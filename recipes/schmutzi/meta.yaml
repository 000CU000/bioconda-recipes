{% set version = "1.5.5.5" %}
package:
  name: schmutzi
  version: {{ version }}

build:
  number: 0 

source:
  url: https://github.com/grenaud/schmutzi/archive/{{ version }}.tar.gz
  md5: b2c15b64a24aa1c52cd52bd30e9b92b3 
  patches:
    - patch
    - patch2

requirements:
  build:
    - {{ compiler('cxx') }}
    - jsoncpp
  host:
    - cmake
    - bamtools
    - git
    - zlib
  run:
    - zlib
    - perl
    - r-base 
    - r-fitdistrplus

test:
  commands:
    - contDeam
    - endoCaller
    - mtCont
    - approxDist.R
    - schmutzi.pl
    - bam2prof
    - insertSize
    - log2freq
    - logs2pos
    - mitoConsPDF.R
    - msa2freq
    - msa2log
    - posteriorDeam.R
    - contOut2ContEst.pl
    - log2fasta


about:
  home: https://github.com/grenaud/schmutzi
  license: unknown
  summary: Maximum a posteriori estimate of contamination for ancient samples.
